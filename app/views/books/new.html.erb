<% if @book.errors.any? %>
<ul class="text-danger"> 
    <% @book.errors.full_messages.each do |msg| %>
    <li> <%= msg %> </li>
    <% end %>
</ul>
<% end %>


 
<div data-controller="books">

<%= form_with url: books_path, method: :post do |form| %>
    <div class="form-group mt-1">
        <label">Title</label>
        <%= form.text_field :title , class: 'form-control' , id: 'book_title', placeholder: 'Enter Book Title' %> 
    </div>

    <div class="form-group mt-1">
        <label">Pages</label>
        <%= form.text_field :total_pages , class: 'form-control' , id: 'book_total_pages', placeholder: 'Enter total pages' %> 
    </div>

    <div class="form-group mt-1">
        <label">Ratings</label>
        <%= form.number_field :rating , class: 'form-control' , id: 'book_rating', placeholder: 'Enter ratings' %> 
    </div>
    
    <div class="form-group mt-1">
        <label">ISBN</label>
        <%= form.text_field :isbn , class: 'form-control' , id: 'book_isbn', placeholder: 'Enter ISBN' %> 
    </div>

    <div class="form-group mt-1">
        <label">Published Dated</label>
        <%= form.text_field :published_date , class: 'form-control' , id: 'datepicker'  %> 
    </div>

    <div class="form-group mt-1">
        <label">Publisher</label>
        <%= form.select :publisher  , Publisher.all.collect {|p| [ p.name, p.id ] } , class: 'form-control' , id: 'book_publisher_name'  %>
    </div>
    
    <div class="form-group mt-1">
        <label">Genre</label>
        <%= form.select :genre  , Genre.all.collect {|p| [ p.genre_name, p.id ] }, class: 'form-control' , id: 'book_genre_name'  %>  
    </div>

    <div class="form-group mt-1">
        <label">Author</label>
        <%= form.select :author  , Author.all.collect {|p| [ p.first_name + " "+ p.middle_name+" "+ p.last_name  , p.id ] } , class: 'form-control' , id: 'book_genre_name'  %>  
    </div>
    
    <div class="mt-1">
        <%= form.submit "Create" , class: "btn btn-primary" %>
    </div>
  <% end %>

</div>